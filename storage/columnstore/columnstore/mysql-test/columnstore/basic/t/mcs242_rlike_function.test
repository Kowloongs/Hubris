#
# Test RLIKE function
# Author: Bharath, bharath.bokka@mariadb.com
#
-- source ../include/have_columnstore.inc

--disable_warnings
DROP DATABASE IF EXISTS mcs242_db;
--enable_warnings

CREATE DATABASE mcs242_db;
USE mcs242_db;

CREATE TABLE t1
(
 t1_INT INT,
 t1_DECIMAL DECIMAL(12,5),
 t1_TEXT TEXT,
 t1_DATE DATE,
 t1_TIME TIME
 )ENGINE=Columnstore;
INSERT INTO t1 VALUES(103, 1234.5699, repeat('o', 5), '1997-12-12', '22:12:02');
INSERT INTO t1 VALUES(-7299, 111.99, repeat('p', 5), '2001-1-1', '23:59:59');
INSERT INTO t1 VALUES(9913, 98765.4321, repeat('q', 5), '09-12-11', '01:08:59');

SELECT t1_INT, t1_INT RLIKE '99$' FROM t1 ORDER BY 1;
SELECT t1_INT, t1_INT RLIKE '\.99$' FROM t1 ORDER BY 1;
SELECT t1_INT, t1_INT RLIKE '03$' FROM t1 ORDER BY 1;
SELECT t1_INT, t1_INT RLIKE '\.+' FROM t1 ORDER BY 1;
SELECT t1_INT, t1_INT RLIKE '0?' FROM t1 ORDER BY 1;
SELECT t1_INT, t1_INT RLIKE '-26' FROM t1 ORDER BY 1;

SELECT t1_DECIMAL, t1_DECIMAL RLIKE '99$' FROM t1 ORDER BY 1;
SELECT t1_DECIMAL, t1_DECIMAL RLIKE '\.99$' FROM t1 ORDER BY 1;
SELECT t1_DECIMAL, t1_DECIMAL RLIKE '03$' FROM t1 ORDER BY 1;
SELECT t1_DECIMAL, t1_DECIMAL RLIKE '\.+' FROM t1 ORDER BY 1;
SELECT t1_DECIMAL, t1_DECIMAL RLIKE '0?' FROM t1 ORDER BY 1;
SELECT t1_DECIMAL, t1_DECIMAL RLIKE '-26' FROM t1 ORDER BY 1;

SELECT t1_TEXT, t1_TEXT RLIKE 'oooo$' FROM t1 ORDER BY 1;
SELECT t1_TEXT, t1_TEXT RLIKE 'q$' FROM t1 ORDER BY 1;
SELECT t1_TEXT, t1_TEXT RLIKE 'ppppp$' FROM t1 ORDER BY 1;
SELECT t1_TEXT, t1_TEXT RLIKE '(ooo)+' FROM t1 ORDER BY 1;
SELECT t1_TEXT, t1_TEXT RLIKE '(qqqqq)+' FROM t1 ORDER BY 1;
SELECT t1_TEXT, t1_TEXT RLIKE 'p*' FROM t1 ORDER BY 1;
SELECT t1_TEXT, t1_TEXT RLIKE 'qq+q' FROM t1 ORDER BY 1;
SELECT t1_TEXT, t1_TEXT RLIKE 'o?o' FROM t1 ORDER BY 1;

SELECT t1_DATE, t1_DATE RLIKE '(1997)+' FROM t1 ORDER BY 1;
SELECT t1_DATE, t1_DATE RLIKE '01$' FROM t1 ORDER BY 1;
SELECT t1_DATE, t1_DATE RLIKE '(59)+' FROM t1 ORDER BY 1;
SELECT t1_DATE, t1_DATE RLIKE '(09-12-)+' FROM t1 ORDER BY 1;

SELECT t1_TIME, t1_TIME RLIKE '(59)+' FROM t1 ORDER BY 1;
SELECT t1_TIME, t1_TIME RLIKE '22$' FROM t1 ORDER BY 1;

# Clean UP
DROP DATABASE mcs242_db;
